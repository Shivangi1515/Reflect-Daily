<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Reflect Daily — Calendar</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Montserrat',sans-serif;
}

body{
    background: linear-gradient(135deg,#020617,#0f172a);
    min-height:100vh;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
}

/* MAIN CONTAINER */
.calendar-app{
    width:1100px;
    max-width:95%;
    height:700px;
    background: rgba(2,6,23,0.85);
    border-radius:20px;
    display:grid;
    grid-template-columns: 2fr 1fr;
    box-shadow:0 0 40px rgba(0,0,0,0.7);
    overflow:hidden;
}

/* LEFT SIDE */
.calendar-section{
    padding:30px;
}

/* HEADER */
.cal-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:20px;
}

.cal-header h2{
    font-weight:600;
}

.cal-controls button{
    background:#020617;
    color:white;
    border:none;
    padding:8px 14px;
    border-radius:6px;
    cursor:pointer;
}

/* DAYS HEADER */
.days{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    margin-top:10px;
    margin-bottom:10px;
    color:#94a3b8;
    font-size:13px;
}

/* CALENDAR GRID */
.calendar-grid{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:10px;
}

.day{
    background:rgba(255,255,255,0.03);
    border-radius:10px;
    height:90px;
    padding:8px;
    cursor:pointer;
    position:relative;
    transition:0.2s;
}

.day:hover{
    background:rgba(255,255,255,0.08);
}

.day.today{
    border:2px solid #38bdf8;
}

.day-number{
    font-size:13px;
    opacity:0.8;
}

/* EVENT DOT */
.event-dot{
    width:6px;
    height:6px;
    background:#38bdf8;
    border-radius:50%;
    position:absolute;
    bottom:10px;
    left:10px;
}

/* RIGHT PANEL */
.event-panel{
    background: rgba(255,255,255,0.03);
    padding:25px;
    border-left:1px solid rgba(255,255,255,0.05);
    display:flex;
    flex-direction:column;
}

.event-panel h3{
    margin-bottom:10px;
}

#selectedDate{
    font-size:13px;
    color:#94a3b8;
    margin-bottom:15px;
}

/* EVENT LIST */
.event-list{
    flex:1;
    overflow-y:auto;
}

.event-item{
    background:rgba(255,255,255,0.05);
    padding:10px;
    border-radius:8px;
    margin-bottom:10px;
    font-size:13px;
}

/* ADD EVENT */
.add-event{
    margin-top:15px;
}

.add-event input, .add-event textarea{
    width:100%;
    margin-bottom:10px;
    padding:10px;
    border-radius:8px;
    border:none;
    background:#020617;
    color:white;
    font-size:13px;
}

.add-event button{
    width:100%;
    padding:10px;
    border:none;
    border-radius:8px;
    background: linear-gradient(135deg,#020617,#0f172a);
    color:white;
    font-weight:600;
    cursor:pointer;
}
</style>
</head>

<body>

<div class="calendar-app">

    <!-- LEFT -->
    <div class="calendar-section">
        <div class="cal-header">
            <h2 id="monthYear"></h2>
            <div class="cal-controls">
                <button onclick="prevMonth()">‹</button>
                <button onclick="goToday()">Today</button>
                <button onclick="nextMonth()">›</button>
            </div>
        </div>

        <div class="days">
            <div>Mon</div><div>Tue</div><div>Wed</div>
            <div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
        </div>

        <div class="calendar-grid" id="calendar"></div>
    </div>

    <!-- RIGHT -->
    <div class="event-panel">
        <h3>Events</h3>
        <div id="selectedDate">Select a date</div>

        <div class="event-list" id="eventList"></div>

        <div class="add-event">
            <input type="text" id="eventTitle" placeholder="Event title">
            <textarea id="eventDesc" placeholder="Description"></textarea>
            <button onclick="addEvent()">Add Event</button>
        </div>
    </div>

</div>

<script>
let currentDate = new Date();
let selectedDate = null;

const calendarEl = document.getElementById("calendar");
const monthYearEl = document.getElementById("monthYear");
const selectedDateEl = document.getElementById("selectedDate");
const eventListEl = document.getElementById("eventList");

let events = JSON.parse(localStorage.getItem("events")) || {};

function renderCalendar(){
    calendarEl.innerHTML = "";
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();

    const firstDay = new Date(year,month,1).getDay();
    const daysInMonth = new Date(year,month+1,0).getDate();

    monthYearEl.innerText = currentDate.toLocaleString('default',{month:'long'})+" "+year;

    let start = firstDay === 0 ? 6 : firstDay-1;

    for(let i=0;i<start;i++){
        const empty = document.createElement("div");
        calendarEl.appendChild(empty);
    }

    for(let day=1;day<=daysInMonth;day++){
        const dayEl = document.createElement("div");
        dayEl.classList.add("day");

        const dateStr = `${year}-${month+1}-${day}`;

        dayEl.innerHTML = `<div class="day-number">${day}</div>`;

        const today = new Date();
        if(day===today.getDate() && month===today.getMonth() && year===today.getFullYear()){
            dayEl.classList.add("today");
        }

        if(events[dateStr]){
            const dot = document.createElement("div");
            dot.classList.add("event-dot");
            dayEl.appendChild(dot);
        }

        dayEl.onclick = ()=> selectDate(dateStr);

        calendarEl.appendChild(dayEl);
    }
}

function selectDate(dateStr){
    selectedDate = dateStr;
    selectedDateEl.innerText = dateStr;
    renderEvents();
}

function renderEvents(){
    eventListEl.innerHTML="";
    if(!events[selectedDate]) return;

    events[selectedDate].forEach(ev=>{
        const div=document.createElement("div");
        div.classList.add("event-item");
        div.innerHTML = `<strong>${ev.title}</strong><br>${ev.desc}`;
        eventListEl.appendChild(div);
    });
}

function addEvent(){
    if(!selectedDate) return alert("Select a date first");

    const title=document.getElementById("eventTitle").value;
    const desc=document.getElementById("eventDesc").value;

    if(!title) return;

    if(!events[selectedDate]) events[selectedDate]=[];

    events[selectedDate].push({title,desc});
    localStorage.setItem("events",JSON.stringify(events));

    document.getElementById("eventTitle").value="";
    document.getElementById("eventDesc").value="";

    renderCalendar();
    renderEvents();
}

function prevMonth(){
    currentDate.setMonth(currentDate.getMonth()-1);
    renderCalendar();
}

function nextMonth(){
    currentDate.setMonth(currentDate.getMonth()+1);
    renderCalendar();
}

function goToday(){
    currentDate=new Date();
    renderCalendar();
}

renderCalendar();
</script>

</body>
</html>
